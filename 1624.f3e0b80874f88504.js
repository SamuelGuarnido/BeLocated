"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1624],{1624:(E,c,n)=>{n.r(c),n.d(c,{HomePage:()=>P});var m=n(467),u=n(177),l=n(3152),h=n(7762),g=n(1378),e=n(4438),p=n(7399),f=n(2589);const b=()=>["/login"],y=()=>["/register"];let P=(()=>{var a;class _{constructor(t,o,i){this.authService=t,this.router=o,this.establishmentService=i,this.establishments=[],this.selectedTypes=[],this.desiredAmenities=["restaurant","cafe","bar","fast_food","pub","ice_cream","food_court","marketplace","bank","atm","pharmacy","post_office","bicycle_repair_station","car_rental","hospital","clinic","dentist","doctors","veterinary","fire_station","police","emergency_phone","school","university","kindergarten","college","bus_station","ferry_terminal","taxi","bicycle_parking","charging_station","place_of_worship","grave_yard","theatre","cinema","arts_centre","library","nightclub","fountain","gym","sports_centre","swimming_pool","stadium","hotel","hostel","guest_house","motel","camp_site","toilets","shower","drinking_water","waste_disposal","recycling","shelter"],this.amenityTranslations={restaurant:"Restaurante",cafe:"Cafeter\xeda",bar:"Bar",fast_food:"Comida R\xe1pida",pub:"Pub",ice_cream:"Helader\xeda",food_court:"Patio de Comidas",marketplace:"Mercado",bank:"Banco",atm:"Cajero Autom\xe1tico",pharmacy:"Farmacia",post_office:"Oficina de Correos",bicycle_repair_station:"Estaci\xf3n de Reparaci\xf3n de Bicicletas",car_rental:"Alquiler de Coches",hospital:"Hospital",clinic:"Cl\xednica",dentist:"Dentista",doctors:"Doctores",veterinary:"Veterinario",fire_station:"Estaci\xf3n de Bomberos",police:"Polic\xeda",emergency_phone:"Tel\xe9fono de Emergencia",school:"Escuela",university:"Universidad",kindergarten:"Jard\xedn de Infantes",college:"Colegio",bus_station:"Estaci\xf3n de Autobuses",ferry_terminal:"Terminal de Ferris",taxi:"Taxi",bicycle_parking:"Estacionamiento de Bicicletas",charging_station:"Estaci\xf3n de Carga",place_of_worship:"Lugar de Culto",grave_yard:"Cementerio",theatre:"Teatro",cinema:"Cine",arts_centre:"Centro de Artes",library:"Biblioteca",nightclub:"Club Nocturno",fountain:"Fuente",gym:"Gimnasio",sports_centre:"Centro Deportivo",swimming_pool:"Piscina",stadium:"Estadio",hotel:"Hotel",hostel:"Hostal",guest_house:"Casa de Hu\xe9spedes",motel:"Motel",camp_site:"Camping",toilets:"Ba\xf1os",shower:"Duchas",drinking_water:"Agua Potable",waste_disposal:"Disposici\xf3n de Residuos",recycling:"Reciclaje",shelter:"Refugio",post_box:"Buz\xf3n de correos"}}ngOnInit(){var t=this;return(0,m.A)(function*(){const o=(yield h.L.getCurrentPosition()).coords;t.establishmentService.getNearbyEstablishments(o.latitude,o.longitude,100,t.selectedTypes).subscribe({next:i=>{t.establishments=i.elements.filter(s=>t.desiredAmenities.includes(s.tags.amenity)),0===t.establishments.length?console.log("No establishments found."):console.log("Establishments found:",t.establishments),t.establishments=t.establishments.map(s=>{const r=s.tags.name||t.amenityTranslations[s.tags.amenity];return{...s,tags:{...s.tags,name:r}}}),t.establishmentService.establishments=t.establishments},error:i=>{console.error("Error fetching establishments:",i)},complete:()=>{console.log("Establishments fetch complete.")}})})()}onLoginGuest(){this.authService.logAsGuest(),this.router.navigate(["inApp"])}}return(a=_).\u0275fac=function(t){return new(t||a)(e.rXU(p.u),e.rXU(l.Ix),e.rXU(f.t))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-home"]],standalone:!0,features:[e.aNF],decls:13,vars:4,consts:[[1,"background-image"],[1,"content"],[1,"logo"],[1,"login-register"],["id","login","fill","solid","mode","md",3,"routerLink"],["id","register","fill","outline","mode","md",3,"routerLink"],["id","guest","fill","clear","mode","md",3,"click"]],template:function(t,o){1&t&&(e.nrm(0,"div",0),e.j41(1,"ion-content",1)(2,"div",2)(3,"p"),e.EFF(4," Be "),e.k0s(),e.EFF(5," Located "),e.k0s()(),e.j41(6,"div",3)(7,"ion-button",4),e.EFF(8,"Login"),e.k0s(),e.j41(9,"ion-button",5),e.EFF(10,"Register"),e.k0s(),e.j41(11,"ion-button",6),e.bIt("click",function(){return o.onLoginGuest()}),e.EFF(12,"Continue as guest"),e.k0s()()),2&t&&(e.R7$(7),e.Y8G("routerLink",e.lJ4(2,b)),e.R7$(2),e.Y8G("routerLink",e.lJ4(3,y)))},dependencies:[g.Jm,g.W9,u.MD,l.Wk],styles:['@charset "UTF-8";.background-image[_ngcontent-%COMP%]{position:absolute;size:100%;top:0;left:0;right:0;bottom:0;background-image:url(/BeLocated/assets/photo/giralda.jpg);background-size:cover;background-position:center center;opacity:.3;z-index:-1}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;--background: transparent;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{text-align:center;padding-top:20vh;font-size:4rem;font-family:Nunito,sans-serif}.login-register[_ngcontent-%COMP%]{display:flex;flex-direction:column;opacity:1;justify-content:center;align-items:center;padding:4vh}.login-register[_ngcontent-%COMP%]   #login[_ngcontent-%COMP%]{--background: black;--color: white;font-weight:700;width:90%}.login-register[_ngcontent-%COMP%]   #register[_ngcontent-%COMP%]{--background: transparent;--color: white;--border-color: white;font-weight:700;width:90%}.login-register[_ngcontent-%COMP%]   #guest[_ngcontent-%COMP%]{font-weight:700;color:#aed9e4}']}),_})()}}]);